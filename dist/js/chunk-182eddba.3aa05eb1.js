(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-182eddba"],{"010f":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"good-detail"},[n("detail-nav-bar",{ref:"navbar",on:{navBarClick:function(e){return t.reachHere(e)}}}),n("scroll",{ref:"scroll",staticClass:"content",on:{scroll:function(e){return t.changeColorByPosition(e)}}},[n("detail-swiper",{attrs:{topImages:t.topImages}}),n("detail-base-info",{attrs:{good:t.good}}),n("detail-shop-info",{attrs:{shop:t.shop}}),n("detail-good-info",{ref:"detailGoodInfo",attrs:{detailInfo:t.detailInfo},on:{loadingcomplete:function(e){return t.loadingComplete()}}}),n("detail-param-info",{ref:"params",attrs:{itemParams:t.itemParams}}),n("detail-comment-info",{ref:"comment",attrs:{rate:t.rate}}),n("goods-list",{ref:"recommend",attrs:{lists:t.recommendGood}})],1),n("detail-bottom-bar",{on:{addshoppingcar:function(e){return t.addShoppingCar()}}}),n("back-top",{directives:[{name:"show",rawName:"v-show",value:t.isshow,expression:"isshow"}],staticClass:"moveto",nativeOn:{click:function(e){return t.backTotop()}}})],1)},i=[],o=(n("a9e3"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("nav-bar",{scopedSlots:t._u([{key:"left",fn:function(){return[s("div",{staticClass:"left",on:{click:function(e){return t.back()}}},[s("img",{attrs:{src:n("2825")}})])]},proxy:!0},{key:"middle",fn:function(){return[s("div",{staticClass:"middle"},t._l(t.title,(function(e,n){return s("div",{key:n,class:{turnRed:t.currentIndex===n},on:{click:function(e){return t.isActived(n)}}},[t._v(t._s(e))])})),0)]},proxy:!0}])})],1)}),a=[],r=n("e47a"),c={name:"DetailNavBar",data:function(){return{title:["商品","参数","评论","推荐"],currentIndex:0}},components:{NavBar:r["a"]},methods:{isActived:function(t){this.currentIndex=t,this.$emit("navBarClick",t)},back:function(){this.$router.back()}}},l=c,u=(n("45eb"),n("2877")),f=Object(u["a"])(l,o,a,!1,null,"58c5ab3c",null),d=f.exports,p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("swiper",{staticClass:"detail-swiper",attrs:{disdot:t.isdot}},t._l(t.topImages,(function(t,e){return n("swiper-item",{key:e},[n("img",{attrs:{src:t,alt:""}})])})),1)},m=[],h=n("ff11"),v=n("09f4"),g={name:"",data:function(){return{isdot:!1}},components:{Swiper:h["a"],SwiperItem:v["a"]},props:{topImages:{type:Array,default:function(){return[]}}}},_=g,b=(n("4ea5"),Object(u["a"])(_,p,m,!1,null,"03b5c80e",null)),I=b.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.good?n("div",{staticClass:"detail-base-info"},[n("div",{staticClass:"title"},[n("p",[t._v(t._s(t.good.title))])]),n("div",{staticClass:"price"},[n("span",{staticClass:"newPriceItem"},[t._v(t._s(t.good.newPrice))]),n("span",{staticClass:"oldPriceItem"},[t._v(t._s(t.good.oldPrice))]),n("span",{staticClass:"discount"},[t._v(t._s(t.good.discount))])]),n("div",{staticClass:"three"},t._l(t.good.columns,(function(e,s){return n("span",{key:s},[t._v(t._s(e))])})),0),n("div",{staticClass:"final"},t._l(t.good.services.length-1,(function(e){return n("div",{key:e},[n("div",[n("img",{attrs:{src:t.good.services[e-1].icon,alt:""}})]),n("span",[t._v(t._s(t.good.services[e-1].name))])])})),0)]):t._e()},w=[],x={name:"",data:function(){return{}},props:{good:{type:Object,default:function(){return{}}}}},y=x,$=(n("c055"),Object(u["a"])(y,C,w,!1,null,"5551ed93",null)),k=$.exports,T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.shop?n("div",{staticClass:"detail-shop-info"},[n("div",{staticClass:"shop-logo"},[n("div",[n("img",{attrs:{src:t.shop.logo,alt:""}})]),n("span",[t._v(t._s(t.shop.name))])]),n("div",{staticClass:"shop-des"},[n("div",{staticClass:"left"},[n("div",[n("span",[t._v(t._s(t._f("approximate")(t.shop.sells)))]),n("br"),n("span",[t._v("总销量")])]),n("div",[n("span",[t._v(t._s(t.shop.goodsCount))]),n("br"),n("span",[t._v("全部宝贝")])])]),n("div",{staticClass:"right"},t._l(t.shop.score,(function(e,s){return n("p",{key:s},[n("span",[t._v(t._s(e.name))]),n("span",{class:{turnred:e.score>=5}},[t._v(t._s(e.score))]),n("span",{class:{turnred:e.score>=5}},[t._v(t._s(e.score>=5?"\t高":"低"))])])})),0)]),t._m(0)]):t._e()},P=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"button"},[n("button",[t._v("进店逛逛")])])}],E=(n("b680"),{name:"DetailShopInfo",data:function(){return{}},props:{shop:{type:Object,default:function(){return{}}}},filters:{approximate:function(t){return t>1e4?(t/1e4).toFixed(2)+"万":t}}}),O=E,j=(n("df76"),Object(u["a"])(O,T,P,!1,null,"59aaea1c",null)),S=j.exports,Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.detailInfo&&t.detailInfo.detailImage&&t.detailInfo.detailImage.length?n("div",[n("div",{staticClass:"desc"},[n("div",[t._v(t._s(t.detailInfo.desc))])]),n("div",{staticClass:"image"},t._l(t.detailInfo.detailImage,(function(e,s){return n("div",{key:s},[n("p",{staticClass:"summary"},[t._v(t._s(e.key))]),t._l(e.list,(function(e,s){return n("img",{key:s,attrs:{src:e,alt:""},on:{load:function(e){return t.loadingComplete()}}})}))],2)})),0)]):t._e()},D=[],B={name:"",data:function(){return{count:0,imagesLength:0}},props:{detailInfo:{type:Object,default:function(){return{}}}},methods:{loadingComplete:function(){this.count++>=this.imagesLength&&this.$emit("loadingcomplete")}},watch:{detailInfo:function(){this.imagesLength=this.detailInfo.detailImage[0].list.length}}},N=B,G=(n("fbd4"),Object(u["a"])(N,Y,D,!1,null,"dc1f35ea",null)),F=G.exports,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.itemParams?n("div",t._l(t.itemParams.rule.tables,(function(e,s){return n("table",{key:s,staticClass:"table"},t._l(e,(function(e,s){return n("tr",{key:s},t._l(e,(function(e,s){return n("td",{key:s},[t._v(" "+t._s(e)+" ")])})),0)})),0)})),0):t._e()},L=[],M={name:"DetailParamInfo",data:function(){return{}},props:{itemParams:{type:Object,default:function(){return{}}}}},R=M,H=(n("df4f"),Object(u["a"])(R,A,L,!1,null,"74df8323",null)),J=H.exports,U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.rate?n("div",[t._m(0),n("div",[n("div",{staticClass:"user"},[n("div",[n("img",{attrs:{src:t.rate.list[0].user.avatar}})]),n("span",[t._v(t._s(t.rate.list[0].user.uname))])]),n("p",{staticClass:"content"},[t._v(t._s(t.rate.list[0].content))]),n("div",{staticClass:"extraInfo"},[n("span",[t._v(t._s(t._f("dateChange")(t.rate.list[0].created)))]),n("span",[t._v(t._s(t.rate.list[0].style))])])]),t.rate.list[0].images?n("div",{staticClass:"showImage"},t._l(t.rate.list[0].images,(function(t,e){return n("img",{key:e,attrs:{alt:"",src:t}})})),0):t._e()]):t._e()},V=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"commentBar"},[n("span",[t._v("用户评价")]),n("span",[t._v("更多")])])}],W=n("325c"),X={name:"",data:function(){return{}},props:{rate:{type:Object,default:function(){return{}}}},filters:{dateChange:function(t){return Object(W["b"])(new Date(1e3*t),"yyyy-MM-dd")+" "}}},q=X,z=(n("1420"),Object(u["a"])(q,U,V,!1,null,"29a8b918",null)),K=z.exports,Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bottom"},[t._m(0),n("div",{staticClass:"right"},[n("div",{on:{click:function(e){return t.addShoppingCar()}}},[n("span",[t._v("加入购物车")])]),t._m(1)])])},Z=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"left"},[s("div",[s("img",{attrs:{src:n("5dca"),alt:""}}),s("span",[t._v("客服")])]),s("div",[s("img",{attrs:{src:n("827f"),alt:""}}),s("span",[t._v("店铺")])]),s("div",[s("img",{attrs:{src:n("3cb6"),alt:""}}),s("span",[t._v("收藏")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("span",[t._v("购买")])])}],tt={name:"",data:function(){return{}},methods:{addShoppingCar:function(){this.$emit("addshoppingcar")}}},et=tt,nt=(n("7085"),Object(u["a"])(et,Q,Z,!1,null,"34814b9c",null)),st=nt.exports;n("b0c0");function it(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var ot=n("1bab");function at(t){return Object(ot["a"])({url:"/detail",params:{iid:t}})}function rt(){return Object(ot["a"])({url:"/recommend"})}var ct=function t(e,n,s){it(this,t),this.title=e.title,this.desc=e.desc,this.newPrice=e.price,this.oldPrice=e.oldPrice,this.discount=e.discountDesc,this.columns=n,this.services=s,this.realPrice=e.lowNowPrice},lt=function t(e){it(this,t),this.logo=e.shopLogo,this.name=e.name,this.fans=e.cFans,this.sells=e.cSells,this.score=e.score,this.goodsCount=e.cGoods},ut=n("eecb"),ft=n("8d33"),dt=n("5962"),pt={name:"GoodDetail",data:function(){return{iid:0,topImages:[],good:null,shop:null,detailInfo:null,itemParams:null,rate:null,paramOffSetTop:0,recommendGood:null,ItemEvent:null,themeTopYs:[],getThemeTopY:null}},components:{DetailNavBar:d,DetailSwiper:I,DetailBaseInfo:k,DetailShopInfo:S,Scroll:ft["a"],DetailGoodInfo:F,DetailParamInfo:J,DetailCommentInfo:K,GoodsList:dt["a"],DetailBottomBar:st},methods:{loadingComplete:function(){console.log("ccccc"),this.$refs.scroll.refresh(),this.getThemeTopY()},reachHere:function(t){console.log(t),this.$refs.scroll.scrollTo(0,-this.themeTopYs[t],200),console.log(this.themeTopYs)},changeColorByPosition:function(t){var e=-t.y;this.isshow=t.y<=-1e3;for(var n=0,s=this.themeTopYs.length;n<s;n++)this.currentIndex!==n&&e>this.themeTopYs[n]&&this.themeTopYs[n+1]&&(this.currentIndex=n,this.$refs.navbar.currentIndex=this.currentIndex)},addShoppingCar:function(){var t={};t.image=this.topImages[0],t.title=this.good.title,t.desc=this.good.desc,t.price=this.good.newPrice,t.count=1,t.iid=this.iid,t.checked=!0,this.$store.dispatch("addcar",t)}},created:function(){var t=this;this.iid=this.$route.params.id,at(this.iid).then((function(e){t.topImages=e.result.itemInfo.topImages,t.good=new ct(e.result.itemInfo,e.result.columns,e.result.shopInfo.services),t.shop=new lt(e.result.shopInfo),t.detailInfo=e.result.detailInfo,t.itemParams=e.result.itemParams,t.rate=e.result.rate,console.log(e.result)})).catch((function(t){console.log(t)})),rt().then((function(e){t.$refs.scroll.refresh(),t.recommendGood=e.data.list,console.log(t.recommendGood)})).catch((function(t){console.log(t)})),this.getThemeTopY=Object(W["a"])((function(){t.themeTopYs=[],t.themeTopYs.push(0),t.themeTopYs.push(t.$refs.params.$el.offsetTop),t.themeTopYs.push(t.$refs.comment.$el.offsetTop),t.themeTopYs.push(t.$refs.recommend.$el.offsetTop),t.themeTopYs.push(Number.MAX_VALUE),console.log("---")}),100)},mounted:function(){},mixins:[ut["b"],ut["a"]],destroyed:function(){this.$bus.$off("finishloading",this.ItemEvent)}},mt=pt,ht=(n("9d19"),Object(u["a"])(mt,s,i,!1,null,"07e6e6ef",null));e["default"]=ht.exports},1148:function(t,e,n){"use strict";var s=n("a691"),i=n("1d80");t.exports="".repeat||function(t){var e=String(i(this)),n="",o=s(t);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},1420:function(t,e,n){"use strict";n("a86d")},"1cc8":function(t,e,n){},2825:function(t,e,n){t.exports=n.p+"img/leftArrow.c0124d3c.svg"},3576:function(t,e,n){},"3cb6":function(t,e,n){t.exports=n.p+"img/collect.d54f5d4e.svg"},"408a":function(t,e,n){var s=n("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=s(t))throw TypeError("Incorrect invocation");return+t}},"45eb":function(t,e,n){"use strict";n("1cc8")},"4ea5":function(t,e,n){"use strict";n("fa27")},"5dca":function(t,e,n){t.exports=n.p+"img/service.ef439cf4.svg"},7085:function(t,e,n){"use strict";n("3576")},"74a6":function(t,e,n){},"827f":function(t,e,n){t.exports=n.p+"img/shop.4f42182a.svg"},"8c6a":function(t,e,n){},"9d19":function(t,e,n){"use strict";n("ea0a")},a86d:function(t,e,n){},b680:function(t,e,n){"use strict";var s=n("23e7"),i=n("a691"),o=n("408a"),a=n("1148"),r=n("d039"),c=1..toFixed,l=Math.floor,u=function(t,e,n){return 0===e?n:e%2===1?u(t,e-1,n*t):u(t*t,e/2,n)},f=function(t){var e=0,n=t;while(n>=4096)e+=12,n/=4096;while(n>=2)e+=1,n/=2;return e},d=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!r((function(){c.call({})}));s({target:"Number",proto:!0,forced:d},{toFixed:function(t){var e,n,s,r,c=o(this),d=i(t),p=[0,0,0,0,0,0],m="",h="0",v=function(t,e){var n=-1,s=e;while(++n<6)s+=t*p[n],p[n]=s%1e7,s=l(s/1e7)},g=function(t){var e=6,n=0;while(--e>=0)n+=p[e],p[e]=l(n/t),n=n%t*1e7},_=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==p[t]){var n=String(p[t]);e=""===e?n:e+a.call("0",7-n.length)+n}return e};if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(m="-",c=-c),c>1e-21)if(e=f(c*u(2,69,1))-69,n=e<0?c*u(2,-e,1):c/u(2,e,1),n*=4503599627370496,e=52-e,e>0){v(0,n),s=d;while(s>=7)v(1e7,0),s-=7;v(u(10,s,1),0),s=e-1;while(s>=23)g(1<<23),s-=23;g(1<<s),v(1,1),g(2),h=_()}else v(0,n),v(1<<-e,0),h=_()+a.call("0",d);return d>0?(r=h.length,h=m+(r<=d?"0."+a.call("0",d-r)+h:h.slice(0,r-d)+"."+h.slice(r-d))):h=m+h,h}})},c055:function(t,e,n){"use strict";n("8c6a")},cd7f:function(t,e,n){},df4f:function(t,e,n){"use strict";n("74a6")},df76:function(t,e,n){"use strict";n("cd7f")},ea0a:function(t,e,n){},fa27:function(t,e,n){},fbd4:function(t,e,n){"use strict";n("feff")},feff:function(t,e,n){}}]);
//# sourceMappingURL=chunk-182eddba.3aa05eb1.js.map